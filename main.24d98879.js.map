{"version":3,"sources":["scripts/main.js"],"names":["board","score","fieldCell","start","document","querySelector","restart","messageStart","messageWin","messageLose","setGame","i","j","tile","createElement","id","updateTile","append","isGameOver","hasEmptyTile","setTwo","classList","remove","isfound","rowRandom","Math","floor","random","columnRandom","getElementById","toString","innerText","add","num","value","filterZero","row","filter","slide","copyRow","length","push","slideLeft","slideRight","reverse","slideUp","slideDown","style","display","addEventListener","e","code","window","onload"],"mappings":"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","file":"main.24d98879.js","sourceRoot":"..\\src","sourcesContent":["'use strict';\r\n\r\nlet board = 0;\r\nlet score = 0;\r\nconst fieldCell = 4;\r\nconst start = document.querySelector('.start');\r\nconst restart = document.querySelector('.restart');\r\nconst messageStart = document.querySelector('.message__start');\r\nconst messageWin = document.querySelector('.message-win');\r\nconst messageLose = document.querySelector('.message-lose');\r\n\r\nrestart.style.display = 'none';\r\n\r\nstart.addEventListener('click', () => {\r\n  setTwo();\r\n  setTwo();\r\n  start.style.display = 'none';\r\n  messageStart.style.display = 'none';\r\n  restart.style.display = 'block';\r\n\r\n  document.addEventListener('keyup', (e) => {\r\n    switch (e.code) {\r\n      case 'ArrowLeft':\r\n        setTwo();\r\n        slideLeft();\r\n        break;\r\n      case 'ArrowRight':\r\n        setTwo();\r\n        slideRight();\r\n        break;\r\n      case 'ArrowUp':\r\n        setTwo();\r\n        slideUp();\r\n        break;\r\n      case 'ArrowDown':\r\n        setTwo();\r\n        slideDown();\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n\r\n    document.querySelector('.game-score').innerText = score;\r\n  });\r\n});\r\n\r\nrestart.addEventListener('click', () => {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      board[i][j] = 0;\r\n\r\n      const tile = document.getElementById(`${i}-${j}`);\r\n\r\n      tile.innerText = '';\r\n      tile.classList = 'tile';\r\n    }\r\n  }\r\n\r\n  score = 0;\r\n  setTwo();\r\n  setTwo();\r\n  document.querySelector('.game-score').innerText = score;\r\n  messageLose.classList.add('hidden');\r\n});\r\n\r\nwindow.onload = function() {\r\n  setGame();\r\n};\r\n\r\nfunction setGame() {\r\n  board = [\r\n    [0, 0, 0, 0],\r\n    [0, 0, 0, 0],\r\n    [0, 0, 0, 0],\r\n    [0, 0, 0, 0],\r\n  ];\r\n\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      const tile = document.createElement('div');\r\n\r\n      tile.id = `${i}-${j}`;\r\n\r\n      const num = board[i][j];\r\n\r\n      updateTile(tile, num);\r\n\r\n      document.querySelector('.board').append(tile);\r\n    }\r\n  }\r\n}\r\n\r\nfunction isGameOver() {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      if (board[i][j] === 0) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    for (let j = 0; j < fieldCell - 1; j++) {\r\n      if (board[i][j] === board[i][j + 1] || board[j][i] === board[j + 1][i]) {\r\n        return false;\r\n      }\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\nfunction hasEmptyTile() {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      if (board[i][j] === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\nfunction setTwo() {\r\n  if (isGameOver()) {\r\n    messageLose.classList.remove('hidden');\r\n\r\n    return;\r\n  }\r\n\r\n  if (!hasEmptyTile()) {\r\n    return;\r\n  }\r\n\r\n  let isfound = false;\r\n\r\n  while (!isfound) {\r\n    const rowRandom = Math.floor(Math.random() * fieldCell);\r\n    const columnRandom = Math.floor(Math.random() * fieldCell);\r\n\r\n    if (board[rowRandom][columnRandom] === 0) {\r\n      board[rowRandom][columnRandom] = 2;\r\n\r\n      const tile = document.getElementById(\r\n        rowRandom.toString() + '-' + columnRandom.toString()\r\n      );\r\n\r\n      tile.innerText = '2';\r\n      tile.classList.add('tile--2');\r\n      isfound = true;\r\n    }\r\n  }\r\n}\r\n\r\nfunction updateTile(tile, num) {\r\n  tile.innerText = '';\r\n  tile.classList.value = '';\r\n  tile.classList.add('tile');\r\n\r\n  if (num > 0) {\r\n    tile.innerText = num;\r\n\r\n    if (num <= 2048) {\r\n      tile.classList.add('tile--' + num.toString());\r\n    }\r\n\r\n    if (num === 2048) {\r\n      messageWin.classList.remove('hidden');\r\n    }\r\n  }\r\n}\r\n\r\nfunction filterZero(row) {\r\n  return row.filter((num) => num !== 0);\r\n}\r\n\r\nfunction slide(row) {\r\n  let copyRow = [...row];\r\n\r\n  copyRow = filterZero(copyRow);\r\n\r\n  for (let i = 0; i < copyRow.length; i++) {\r\n    if (copyRow[i] === copyRow[i + 1]) {\r\n      copyRow[i] *= 2;\r\n      copyRow[i + 1] = 0;\r\n      score += copyRow[i];\r\n    }\r\n  }\r\n\r\n  copyRow = filterZero(copyRow);\r\n\r\n  while (copyRow.length < fieldCell) {\r\n    copyRow.push(0);\r\n  }\r\n\r\n  return copyRow;\r\n}\r\n\r\nfunction slideLeft() {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    let row = board[i];\r\n\r\n    row = slide(row);\r\n    board[i] = row;\r\n\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      const tile = document.getElementById(`${i}-${j}`);\r\n      const num = board[i][j];\r\n\r\n      updateTile(tile, num);\r\n    }\r\n  }\r\n}\r\n\r\nfunction slideRight() {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    let row = board[i];\r\n\r\n    row.reverse();\r\n    row = slide(row);\r\n    row.reverse();\r\n    board[i] = row;\r\n\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      const tile = document.getElementById(`${i}-${j}`);\r\n      const num = board[i][j];\r\n\r\n      updateTile(tile, num);\r\n    }\r\n  }\r\n}\r\n\r\nfunction slideUp() {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    let row = [board[0][i], board[1][i], board[2][i], board[3][i]];\r\n\r\n    row = slide(row);\r\n\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      board[j][i] = row[j];\r\n\r\n      const tile = document.getElementById(`${j}-${i}`);\r\n      const num = board[j][i];\r\n\r\n      updateTile(tile, num);\r\n    }\r\n  }\r\n}\r\n\r\nfunction slideDown() {\r\n  for (let i = 0; i < fieldCell; i++) {\r\n    let row = [board[0][i], board[1][i], board[2][i], board[3][i]];\r\n\r\n    row.reverse();\r\n    row = slide(row);\r\n    row.reverse();\r\n\r\n    for (let j = 0; j < fieldCell; j++) {\r\n      board[j][i] = row[j];\r\n\r\n      const tile = document.getElementById(`${j}-${i}`);\r\n      const num = board[j][i];\r\n\r\n      updateTile(tile, num);\r\n    }\r\n  }\r\n}\r\n"]}